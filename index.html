<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Zero to Hero | API Tips</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
		<link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<img src="img/sponsors.png">
				</section>

				<section>
					<h1>Zero to Hero</h1>
					<h3>Tips to building great API's</h3>

				</section>
				<section>
					<img src="img/sebastian.jpeg" height="300px">
				</section>

				<section>
					<h2>This guy</h2>
					<img height="250px"src="img/matt-cal-phil.jpg"><hr>
					<ul>
						<li>Sticker Enthusaist</li>
						<li>Cat Lover</li>
						<li>Passionate about clean code</li>
						<li>Developer At Tandum</li>
						<li>Coffee and Beer</li>
					</ul>
				</section>
				<section>
					<h1>Questions</h1>
					<ul>
						<li>Twitter: matthewtrask</li>
						<li>IRC: matthewtrask_</li>
						<li>Email: mjftrask@gmail.com</li>
					</ul>
				</section>
				<section>
					<h2>Community Purpose</h2>
					<p>My first purpose is to help foster and grow the PHP community online, in Atlanta as well as Upstate, SC</p>
					<p>Seriously, if you arent on any of the IRC rooms (#phpmentoring, #phpc, #php-fig,#coderabbi, #nomadphp, #atlantaphp) or Twitter, you are missing out on so much</p>
					<small>For reals, speaking and going to conferences is how I got to where I am today.</small>
				</section>
				<section>
					<h4>API Purpose</h4>
					<p>Have everyone here leave tonight with at least one new tip to implement within their api's</p>
					<small>This will have a lot of tips and not aimed at any one groud, i.e. Beginners, mids, senior developers etc.</small><br><br>
					<small>I hope</small>
				</section>

				<!-- Example of nested vertical slides -->
				<section>
					<section>
						<h2>What is an API?</h2>
						<p>An API (Application Programming Interface) is best thought of as a contract provided by one piece of computer software to another.</p>
						<p>It is the gateway to your application.</p>
					</section>
					<section>
						<h2>What makes a good API?</h2>
					</section>
					<section>
						<h2>What makes a good API?</h2>
						<p>Clean Endpoints</p>
						<p>Unexposed Id's from DB tables</p>
						<p>Documented</p>
						<p>SEMVER</p>
						<p>Code Examples</p>
						<p>Tests</p>
					</section>
				</section>

				<section>
					<section>
						<h2>Clean API Endpoints</h2>
					</section>
					<section>
						<p>example: GET /restaurants/{$city}</p>
					</section>
					<section>
						<p>example: POST /students/{$studentUuid}</p>
					</section>
					<section>
						<p>example: PUT /users/{$studentUuid}/edit</p>
					</section>
					<section>
						<h2>True REST</h2>
						<ul>
							<li>GET /users</li>
							<li>POST /users</li>
							<li>PATCH /users</li>
							<li>PUT /users</li>
							<li>DELETE /users</li>
							<li>OPTIONS /users</li>
						</ul>
					</section>
				</section>

					<section>
						<section>
							<h2>Proper HTTP Response Codes</h2>
							<img src="img/pikachu.jpg" height="300px">

						</section>
						<section>
							<h2>Standard</h2>
							<ul>
								<li>200 OK</li>
								<li>201 Created</li>
								<li>301 Moved</li>
								<li>400 Request</li>
								<li>404 Not Found</li>
								<li>503 Service Unavailable</li>
							</ul>
						</section>
						<section>
							<h2>Obscure Codes</h2>
							<ul>
								<li>418 I'm a teapot</li>
								<li>207 Multi-status</li>
								<li>303 See Other</li>
								<li>422 Unprocessable Entity</li>
								<li>506 Variant Also Negotiates</li>
							</ul>
						</section>
					</section>

					<section>
						<section>
							<h2>Well written documentation</h2>
							<small>Both internally and externally</small>
						</section>
						<section>
							<h4>Internally</h4>
						<ul>
							<li>openapis.org </li>
							<li>swagger</li>
							<li>apiary.io</li>
							<li>apidocjs.com</li>
							<li>API Blueprint + aglio</p>
						</ul>
						</section>
						<section>
							<h4>Externally</h4>
						<ul>
							<li>Jekyll (Ruby)</li>
							<li>Sculpin (PHP)</li>
							<li>Hyde (Python)</li>
							<li>Hugo (Go)</li>
						</ul><br>
						<p><small>All are static Markdown -> HTML and can be hosted for free on Github/Gitlab</small></p>
						<p>Clean Code examples documented</p>
						</section>
					</section>
					<section>
						<h2>Be explicit in response data type</h2>
						<p>JSON</p>
						<p>XML</p>
						<p>...and make it uniform</p>
					</section>
					<section>
						<h2>Same with method names</h2>
						<p>snake_case</p>
						<p>camelCase</p>
						<h4>Make it uniform</h4>
					</section>
					<section>
						<section>
							<h2>SEMVER &amp; Versioning</h2>
							<p>major.minor.patch</p>
						</section>
						<section>
							<h2>Versioning</h2>
							<p>No "Right" Way</p>
							<ul>
								<li>URI -  /v2/restaurants/</li>
								<li>Hostname - https://api-v1.cats.com/breeds </li>
								<li>Body &amp; Query Param</li>
							</ul>
						</section>
				</section>
				<section>
					<h1>GET</h1>
					<p>Will return a resource</p>
					<p>User, Location, Event Details</p>
				</section>
				<section>
					<h1>POST</h1>
					<p>Creating a resource on the server.</p>
				</section>
				<section>
					<h1>PUT</h1>
					<p>Replacing a resource on the server</p>
				</section>
				<section>
					<h1>PATCH</h1>
					<p>Updating a resource on the server.</p>
				</section>
				<section>
					<h1>DELETE</h1>
					<p>Removes resource from server.</p>
					<small>You should never delete a resource, just change the state in the tables. </small>
				</section>
				<section>
					<h1>OPTIONS</h1>
					<pre><code>
...
Server: Apache/2.4.1 (Unix) OpenSSL/1.0.0g
Allow: GET,HEAD,POST,OPTIONS,TRACE
Content-Type: httpd/unix-directory
...
					</code></pre>
					<p>per RFC 2616: Will return 200 OK and options allowed on the URI </p>
				</section>
				<section>
					<section>
						<h2>Protect your api</h2>
						<p>Use a UUID library.</p>
						<p>Dont expore auto-incrementing DB id's to the world</p>
					</section>
					<section>
						<p>Oauth 1.0 | 2.0</p>
						<small>thephpleague.com</small>
					</section>
					<section>
						<p>Header Token</p>
						<p>X-CATS-AUTH-TOKEN</p>
					</section>
				</section>

				<section>
					<h2>Pagination</h2>
					<p>Speeds up response time</p>
					<p>Keeps bandwidth open</p>
					<p>"and today, we turn to the book of pagination, chapter 10, verses 1 - 3. And the great lord Phil then declared, you must paginate result sets from your API. As he details in his letter to the council of PHP developers, Pagination is holy. It is a needed service amongst the users"</p>
					<small>Phil didnt say this, but his book is legit the API handbook</small>
				</section>
				<section>
					<section>
						<h2>Throttling</h2>
						<p>https://github.com/jaytaph/RateLimitBundle</p>
						<pre><code>/**
 * @Ratelimit(methods={"POST"}, limit=100, period=10); // 100 POST requests per 10 seconds
 */
class DefaultController extends Controller
{
    /**
     * @ratelimit(method="POST", limit=200, period=10); // 200 POST requests to indexAction allowed.
     */
    public function indexAction()
    {
    }
}</code></pre>
					</section>
				</section>
				<section>
					<section>
						<h2>Testing &amp; Tools</h2>
						<img src="img/zombie.jpg" height="300px">
					</section>
					<section>
						<h2>Testing</h2>
						<p>https://github.com/fzaninotto/Faker</p>
						<p>PHPUnit</p>
						<p>Behat</p>
						<p>Xdebug</p>
						<p>$headers=xdebug_get_headers();</p>
					</section>
					<section>
						<h2>Tools</h2>
						<p>Fractal: The PHP League</p>
						<p>Guzzle: HTTP Request/Response</p>
						<p>Twilio: SMS Service</p>
						<p>PSR 7: Async Request/Response</p>
						<p>Dredd.io (node.js)</p>
						<p>Postman</p>
					</section>
					<section>
						<h2>Frameworks</h2>
						<p>Lumen</p>
						<p>Slim</p>
						<p>Silex</p>
						<p>Django</p>
						<p>Flask</p>
						<p>Sinatra</p>
					</section>
				</section>
				<section>
					<h1>Questions</h1>
					<ul>
						<li>Twitter: matthewtrask</li>
						<li>IRC: matthewtrask_</li>
						<li>Email: mjftrask@gmail.com</li>
					</ul>
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
